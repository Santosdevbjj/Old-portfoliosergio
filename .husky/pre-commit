#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Interrompe o commit se algum comando falhar
set -e

echo "ğŸ” Iniciando verificaÃ§Ãµes de prÃ©-commit..."

# 1. Formata e organiza as classes do Tailwind apenas nos arquivos alterados
# Nota: Recomenda-se usar 'npx lint-staged' aqui se quiser performance mÃ¡xima
npm run format

# 2. Executa o Linter do Next.js
# O --fix ajuda a resolver problemas simples automaticamente antes do commit
echo "ğŸ’… Verificando Lint..."
npm run lint

# 3. Verifica erros de Tipagem (TypeScript)
# Essencial para Engenharia de Dados: garante que os contratos de dados e i18n estÃ£o Ã­ntegros
echo "ğŸŸ¦ Verificando tipos (TypeScript)..."
npm run type-check

echo "âœ… Tudo limpo! Realizando commit..."
